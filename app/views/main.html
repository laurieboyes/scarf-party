
<div class="pattern-container" style="width: 100%; overflow: auto; margin-bottom: 20px" ng-style="{height: (ctrl.getScreenHeight() / 2) + 'px'}">
  <div class="pattern" style="width:100%; position: relative; padding-bottom: 836.66%">
    <div class="pattern__row" ng-repeat="row in ctrl.patternRows" style="position:absolute; width:100%;"
      ng-style="{
        height: (100 / ctrl.rows) + '%',
        top: ((100 / ctrl.rows) * $index) + '%'
      }">

      <div class="pattern__row__stitch"
           ng-repeat="stitch in ctrl.getRowFlippedOrWhatever($index) track by $index"
          style="height: 100%; position: absolute; top: 0;"
           ng-style="{
            width: (100 / ctrl.stitchesPerRow) + '%',
            left: ((100 / ctrl.stitchesPerRow) * $index) + '%',
            background: ctrl.getStitchColour(stitch, $parent.$index, $index)
           }"
        >

      </div>

    </div>
  </div>
</div>

<div class="controls">
  <div class="control stitch">
    <label>stitch</label>
    <input type="text" ng-model="ctrl.stitch"/>
  </div>
  <p>row: <b>{{ctrl.getRow()}}</b>     row-stitch: <b>{{ctrl.getRowStitch()}}</b></p>
  <div class="control do-stitch">
    <input type="button" value="Stitch" style="width:100%; height: 60px; font-weight: bold" ng-click="ctrl.nextStitch()"/>
  </div>
  <div class="control undo-stitch">
    <input type="button" value="Unpick" ng-click="ctrl.prevStitch()" style="margin-top: 10px; height: 60px; width: 130px; "/>
  </div>
</div>

<div style="display: none">
  <!--<img id="patternImage" src="http://lrnk.co.uk/testzigzag8.png" alt="scarf" width="30" height="250">-->
  <img id="patternImage" src="images/testzigzag8.png" alt="scarf" width="30" height="251">
  <canvas id="myCanvas" width="30" height="251" style="border:1px solid #d3d3d3;">
    Your browser does not support the HTML5 canvas tag.
  </canvas>
</div>
